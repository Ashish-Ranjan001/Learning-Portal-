<div class="edit-category-container card shadow-lg p-4">
    <h2 class="text-center mb-4">Edit Category</h2>

    <form [formGroup]="categoryForm">
        <div class="mb-3 text-center">
            <label for="category-image" class="form-label">Category Image:</label>
            <div class="category-image-container">
                <img [src]="categoryForm.get('imageUrl')?.value" alt="Category Image" class="category-image">
            </div>
            <input id="category-image" type="file" class="form-control mt-2" (change)="onFileSelected($event)">
        </div>

        <div class="mb-3">
            <label for="CategoryName" class="form-label">Name</label>
            <input 
                type="text" 
                id="CategoryName" 
                formControlName="name" 
                class="form-control"
                placeholder="Enter Category Name"
                [ngClass]="{'is-invalid': categoryForm.get('name')?.invalid && categoryForm.get('name')?.touched}"
            >
            <div class="invalid-feedback" *ngIf="categoryForm.get('name')?.invalid && categoryForm.get('name')?.touched">
                Name is required.
            </div>
        </div>

        <div class="mb-3">
            <label for="CategorySubSet" class="form-label">Sub Set</label>
            <input 
                type="text" 
                id="CategorySubSet" 
                formControlName="subSet" 
                class="form-control"
                placeholder="Enter Sub Set"
                [ngClass]="{'is-invalid': categoryForm.get('subSet')?.invalid && categoryForm.get('subSet')?.touched}"
            >
            <div class="invalid-feedback" *ngIf="categoryForm.get('subSet')?.invalid && categoryForm.get('subSet')?.touched">
                Sub Set is required.
            </div>
        </div>

        <div class="mb-3 d-flex align-items-center">
            <label for="Status" class="form-label me-2">Active Status:</label>
            <div class="form-switch">
                <input 
                    type="checkbox" 
                    id="Status" 
                    formControlName="status"
                    class="form-check-input toggle-switch"
                    (change)="toggleActiveStatus($event)"
                >
            </div>
            <span class="ms-2 fw-bold">{{ categoryForm.get('status')?.value ? 'Active' : 'Inactive' }}</span>
        </div>

        <div class="d-flex justify-content-end gap-3">
            <button type="button" class="btn btn-secondary" (click)="onCancel()">Cancel</button>
            <button type="button" class="btn btn-primary" (click)="onSave()">Save Changes</button>
        </div>
    </form>
</div>